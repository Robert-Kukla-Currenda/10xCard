@using TenXCards.API.Models
@using MudBlazor

<MudGrid>
    @foreach (var card in Cards)
    {        
        <MudItem xs="12">
            <FlashcardItem Card="@card"
                           OnDelete="OnDeletedCard" />
        </MudItem>
    }
</MudGrid>

@code {
    [Parameter]
    public required List<CardDto> Cards { get; set; }

    [Parameter]
    public EventCallback OnDeleted { get; set; }

    private async Task OnDeletedCard()
    {
        if (OnDeleted.HasDelegate)
        {
            await OnDeleted.InvokeAsync();
        }
    }

    // private CardDto? cardToDelete;
    // private CardDto? cardToEdit;
    // private bool showEditModal;

    // private void HandleEdit(CardDto card)
    // {
    //     cardToEdit = card;
    //     showEditModal = true;
    // }

    // private void HandleCardUpdated(CardDto updatedCard)
    // {
    //     var index = Cards.FindIndex(c => c.Id == updatedCard.Id);
    //     if (index != -1)
    //     {
    //         Cards[index] = updatedCard;
    //         StateHasChanged();
    //     }
    // }
}
